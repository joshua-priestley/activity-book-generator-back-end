# Activity Book Generator Back-end

## Quickstart

```shell
# Clone
git clone git@gitlab.doc.ic.ac.uk:g216002122/activity-book-generator-back-end.git
cd activity-book-generator-back-end

# Set up python virtual environment
python3 -m venv venv
. venv/bin/activate
pip3 install --upgrade pip && pip3 install -r requirements.txt


#For PDF generation - if you get "No wkhtmltopdf executable found" then install:
sudo apt-get install wkhtmltopdf

# Tell Flask where to find the app
export FLASK_APP=activitygen

# Use development environment
export FLASK_ENV=development

# Run app
flask run
```
This runs the server on http://localhost:5000.

## Testing

Run tests using `pytest`. Add `-v` for more details.

Measure code coverage using `coverage run -m pytest`.
View the coverage report in terminal by running `coverage report`. Alternatively, an HTML report may be generated by running `coverage html` and opening `htmlcov/index.html` in a browser.

Deployments are available on cloud-vm-42-123.doc.ic.ac.uk. The service on port 5000 follows the master branch while the service on port 5001 follows the dev branch.
Note that you need to be connected to the college network e.g. through the imperial VPN.
